<html>
    <head>
        <title>JSON Object Builder</title>
        <script type="text/javascript">
            
            var xmlhttp;
            
            function createObj() {
                var song = document.getElementById("song").value;
                var artist = document.getElementById("artist").value;
                var year = document.getElementById("year").value;
                var rating = document.getElementById("rating").value;
                
                var jsonSong = '{';
                jsonSong += '"song":' + '"' + song + '"';
                jsonSong += ', ';
                jsonSong += '"artist":' + '"' + artist + '"';
                jsonSong += ', ';
                jsonSong += '"year":' + '"' + year + '"';
                jsonSong += ', ';
                jsonSong += '"rating":' + '"' + rating + '"';
                jsonSong += '}';
                console.log(jsonSong);
                
                sendJson(jsonSong);
            }
            
            function sendJson(json) {
                xmlhttp = new XMLHttpRequest();
                
                //call back function
                xmlhttp.onreadystatechange = receiveResponse;
                
                xmlhttp.open("GET", ('recieve.php?json=' + json), true);
                xmlhttp.send();
            }
            
            function receiveResponse() {
                if(xmlhttp.readyState == 4 && xmlhttp.status == 200) {
                    //console.log(xmlhttp.responseText);
                    document.getElementById("response").innerHTML = xmlhttp.responseText;
                }
            }
                
        </script>
    </head>
    <body>
        <p>Song:   <input type="text" id="song" /></p>
        <p>Artist: <input type="text" id="artist" /></p>
        <p>Year:   <input type="text" id="year" /></p>
        <p>Rating: <input type="text" id="rating" /></p>
        <input type="button" value="create object" onclick="createObj()" />
        <div id="response"></div>
    </body>
</html>